@model MvcBlog.WebUI.Models.LocalPasswordModel

@{
    ViewBag.Title = "Change password";
}

<h2>Change password</h2>
<p>You're logged in as <strong>@User.Identity.Name</strong>.</p>

@using (Html.BeginForm("ChangePassword", "Account"))
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary()

    <fieldset>
        <legend>Change Password Form</legend>

        @if (ViewBag.StatusMessage != "")
        {
            <div class="alert alert-success form-group">
                @ViewBag.StatusMessage
            </div>
        }

        <div class="form-group">
            @Html.LabelFor(m => m.OldPassword, new { @class = "control-label" })
            @Html.PasswordFor(m => m.OldPassword, new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.OldPassword)
        </div>

        <div class="form-group">
            @Html.LabelFor(m => m.NewPassword, new { @class = "control-label" })
            @Html.PasswordFor(m => m.NewPassword, new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.NewPassword)
        </div>

        <div class="form-group">
            @Html.LabelFor(m => m.ConfirmPassword, new { @class = "control-label" })
            @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.ConfirmPassword)
        </div>

        <input type="submit" value="Change password" class="btn btn-primary" />
    </fieldset>

    <div>
        @Html.ActionLink("Manage account information", "UpdateUserInfo", "Account")
    </div>
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}